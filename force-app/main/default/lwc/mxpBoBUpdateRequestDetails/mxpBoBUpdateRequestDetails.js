/*****************************************************************************************************************************
*
* Imports
*
*****************************************************************************************************************************/
import { LightningElement,api,wire } from 'lwc';
import { reduceErrors } from 'c/lwcDdUtils'; // import any other method from Util as needed
import getAdditionalInformation from '@salesforce/apex/MxpBoBUpdateRequestController.getAdditionalInformation';
import { refreshApex } from '@salesforce/apex';

/*****************************************************************************************************************************
*
* CSS Class Consts
*
*****************************************************************************************************************************/

/*****************************************************************************************************************************
*
* Functional Consts
*
*****************************************************************************************************************************/

export default class MxpBoBUpdateRequestDetails extends LightningElement {
    /*****************************************************************************************************************************
    *
    * Public Variables
    *
    *****************************************************************************************************************************/

    // {String} (Required) - MXP BoB Request Record Id
    @api recordId;

    /*****************************************************************************************************************************
    *
    * Private Variables
    *
    *****************************************************************************************************************************/

    loading = true;
    wiredResult;
    data = [];

    /*****************************************************************************************************************************
    *
    * LifeCycle Hooks (renderedCallback,connectedCallback,disconnectedCallback)
    *
    *****************************************************************************************************************************/

    /*****************************************************************************************************************************
    *
    * UI Getters - Custom getters for variables in the HTML
    *
    *****************************************************************************************************************************/

    /*****************************************************************************************************************************
    *
    * Wire
    *
    *****************************************************************************************************************************/

    @wire(getAdditionalInformation,{mxpBobRequestId:'$recordId'})
    wiredGetAdditionalInformation(result) {
        this.wiredResult = result;
        this.loading = false;
        if (result.data) {
            this.data = result.data;
        } else {
            console.log(reduceErrors(result.error));
        }
    }

    /*****************************************************************************************************************************
    *
    * Event Handlers
    *
    *****************************************************************************************************************************/

    handleRefreshClick() {
        this.loading = true;
        refreshApex(this.wiredResult);
    }

    /*****************************************************************************************************************************
    *
    * Logic / Helper methods
    *
    *****************************************************************************************************************************/
}